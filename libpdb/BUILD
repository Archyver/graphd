# Description:
#  libpdb.a - primitive database

package(
    default_visibility = ["//visibility:public"],
)

cc_library(
    name = "libpdb",
    srcs = [
        "pdb-bins.c",
        "pdb-bins-numtable.c",
        "pdb-bins-strtable.c",
        "pdb-build-version.c",
        "pdb-checkpoint.c",
        "pdb-concentric.c",
        "pdb-configure.c",
        "pdb-count.c",
        "pdb-create.c",
        "pdb-database-id.c",
        "pdb-database-path.c",
        "pdb-destroy.c",
        "pdb-disk.c",
        "pdb-generation.c",
        "pdb-hash.c",
        "pdb-id.c",
        "pdb-index.c",
        "pdb-index-bmap.c",
        "pdb-index-gmap.c",
        "pdb-index-hmap.c",
        "pdb-initialize.c",
        "pdb-is-remote-mounted.c",
        "pdb-iterator.c",
        "pdb-iterator-all.c",
        "pdb-iterator-bgmap.c",
        "pdb-iterator-by-name.c",
        "pdb-iterator-gmap.c",
        "pdb-iterator-hmap.c",
        "pdb-iterator-null.c",
        "pdb-iterator-smap.c",
        "pdb-iterator-suspend.c",
        "pdb-iterator-util.c",
        "pdb-linkage.c",
        "pdb-local-ip.c",
        "pdb-lockfile.c",
        "pdb-log.c",
        "pdb-mem.c",
        "pdb-msclock.c",
        "pdb-prefix.c",
        "pdb-primitive-alloc.c",
        "pdb-primitive-alloc-subscription.c",
        "pdb-primitive-compress.c",
        "pdb-primitive-dump.c",
        "pdb-primitive-finish.c",
        "pdb-primitive-initialize.c",
        "pdb-primitive-n.c",
        "pdb-primitive-previous.c",
        "pdb-primitive-read.c",
        "pdb-primitive-reference.c",
        "pdb-primitive-summary.c",
        "pdb-refresh.c",
        "pdb-restore.c",
        "pdb-runtime-statistics.c",
        "pdb-rxs.c",
        "pdb-set-database-id.c",
        "pdb-set-database-name.c",
        "pdb-set-mode.c",
        "pdb-set-path.c",
        "pdb-set-predictable.c",
        "pdb-set-sync.c",
        "pdb-status.c",
        "pdb-strerror.c",
        "pdb-sync.c",
        "pdb-truncate.c",
        "pdb-util.c",
        "pdb-verify.c",
        "pdb-versioned.c",
        "pdb-vip.c",
        "pdb-word.c",
        "pdbp.h",
    ],
    hdrs = [
        "pdb.h",
        "pdb-bins-numtable.h",
        "pdb-primitive.h",
    ],
    copts = [
        "-Wno-conversion",
        "-g",
    ],
    linkopts = [
        "-lm",
    ],
    deps = [
        "//libaddb",
        "//libcl",
        "//libcm",
        "//libgraph",
    ],
)
